{"version":3,"sources":["scripts.min.js"],"names":["$","document","ready","toggleNav","toggleClass","toggleSearch","blur","focus","searchBar","window","matchMedia","matches","prepend","insertAfter","swapLogos","logoFull","logoStacked","flickity","cellAlign","contain","pageDots","prevNextButtons","freeScroll","on","length","removeClass","e","target","is","hoverAddClass","container","parent","elem","className","hover","this","closest","addClass","headings","headingHeights","each","index","value","push","clientHeight","maxHeight","reduce","a","b","Math","max","height","wrap","watchCSS","setTimeout","t","title","c","append","attr","remove","click","fadeOut","fn","fitVids","options","settings","customSelector","ignore","getElementById","head","getElementsByTagName","div","createElement","innerHTML","appendChild","childNodes","extend","selectors","ignoreList","$allVideos","find","join","not","$this","parents","tagName","toLowerCase","css","isNaN","aspectRatio","parseInt","width","videoName","_count","removeAttr","jQuery"],"mappings":"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","file":"../scripts.min.js","sourcesContent":["/**\n * Generic site JavaScript.\n */\n\n/**\n *\n * Header JS\n *\n */\n\n\n$(document).ready(function() {\n\n  // Transation bar into slider\n  $('.translation-bar ul').flickity({\n    cellAlign: 'left',\n    contain: true,\n    pageDots: false,\n    prevNextButtons: false,\n    freeScroll: true\n  });\n\n  $('.arrow-wrap').on('click', function() {\n    $('.translation-bar ul').flickity('next');\n  });\n\n  $('.back-arrow-wrap').on('click', function() {\n    $('.translation-bar ul').flickity('prev');\n  });\n\n  function toggleNav() {\n    $('.nav-links').toggleClass('open');\n    $('.header-inner').toggleClass('nav-open');\n  }\n\n  function toggleSearch() {\n    $('.logo-nav-container').toggleClass('search-open');\n    $('.search-toggle').blur();\n    $('.search-bar-container input').focus();\n  }\n\n\n  $('.mobile-nav-toggle').on('click', function() {\n    toggleNav();\n\n    // If search is open, close it.\n    if ($('.search-open').length) {\n      $('.logo-nav-container').removeClass('search-open');\n    }\n  });\n\n\n  $('.search-toggle').on('click', function() {\n    toggleSearch();\n\n    // If mobile nav is open, close it.\n    if ($('.nav-open').length) {\n      $('.nav-links').removeClass('open');\n      $('.header-inner').removeClass('nav-open');\n    }\n  });\n\n\n  // On resize, remove any open nav classes if desktop size, otheriwise, blue overlay behind nav will still be there.\n  $(window).on('resize', function() {\n\n    if (window.matchMedia(\"(min-width: 1050px)\").matches) {\n      if ($('.nav-open').length) {\n        $('.nav-links').removeClass('open');\n        $('.header-inner').removeClass('nav-open');\n      }\n    }\n  });\n\n\n  // Hide search bar container if mouse is clicked outside of search div or search toggle and search div is open\n  $('html').on('click', function(e) {\n    if( !$(e.target).is('.search-toggle *, .search-toggle') ) {\n      if( !$(e.target).is('.search-bar-container *, .search-bar-container') ) {\n        if ($('.search-open').length) {\n          $('.logo-nav-container').removeClass('search-open');\n        }\n      }\n    }\n  });\n\n\n  // Move search bar container just below logo-nav-container for mobile\n  function searchBar() {\n    if (window.matchMedia(\"(max-width: 1049px)\").matches) {\n      $('.logo-nav-container').prepend($('.search-bar-container'));\n    } else {\n      $('.search-bar-container').insertAfter($('.search-toggle'));\n    }\n  }\n\n\n  // Logo swapping depending on screen size.\n  var logoStacked = $('.header-inner .logo-stacked'),\n    logoFull = $('.header-inner .logo-full');\n\n  function swapLogos() {\n    if (window.matchMedia(\"(max-width: 1049px)\").matches) {\n        $('.header-inner .logo-container a').prepend(logoFull);\n    } else {\n      $('.header-inner .logo-container a').prepend(logoStacked);\n    }\n  }\n\n  $(window).on('resize load', function() {\n    swapLogos();\n    searchBar();\n  });\n });\n$(document).ready(function() {\n\n  // Hover on an element, and add class to closest parent.\n  function hoverAddClass(container, parent, elem, className) {\n    $(container + ' ' + elem).hover(\n      function () {\n        $(this).closest(parent).addClass(className);\n      },\n      function () {\n        $(this).closest(parent).removeClass(className);\n      }\n    );\n  }\n\n  // News category list, give li item a bottom border turquoise.\n  hoverAddClass('.news-categories', 'li', 'a', 'border-turquoise');\n\n  // Related News, take down the opacity of the darkening gradient.\n  hoverAddClass('.related-news', '.bg-img', '.card-heading', 'headline-hover');\n\n  // Translation bar, add underline to li\n  hoverAddClass('.translation-bar', 'li', 'a', 'hover-underline');\n\n  // Darken news images when headline is hovered\n  hoverAddClass('.cta-news', '.card', '.h2 a', 'darken-img');\n  hoverAddClass('.card-list-container', '.card', '.h3 a', 'darken-img');\n\n});\n/**\n *\n * Main site JS\n *\n */\n$(document).ready(function() {\n\n  // Related News module.  Keep h3 headings the same height so the images stay the same height as well.\n  var headings = $('.related-news h3'),\n    headingHeights = [];\n\n  headings.each(function(index, value){\n    headingHeights.push(value.clientHeight);\n  });\n\n  var maxHeight = headingHeights.reduce(function(a, b) {\n    return Math.max(a, b);\n  }, 0);\n\n  headings.height(maxHeight);\n\n\n  // Blockquotes\n  // Since these blockquotes need to be display:inline for the quotation marks to function as designed, we can't add margin to it. This will wrap WordPress blockquotes in a container div to handle positioning and spacing.\n  $('article blockquote').wrap( \"<div class='blockquote-container'></div>\")\n\n  // Three up People module becomes slider on mobile.\n  $('.people.slider-on-mobile').flickity({\n    cellAlign: 'left',\n    contain: true,\n    pageDots: false,\n    prevNextButtons: false,\n    watchCSS: true\n  });\n\n  // Run a quick resize event on flickity - in case cards don't get spread properly spaces out cards.\n  setTimeout(function(){\n    $('.people.slider-on-mobile').flickity( 'resize' );\n  }, 500);\n\n\n  // Photo credits hover effect\n  // Based on:\n  // http://cssglobe.com/lab/tooltip/02/\n  // http://cssglobe.com/lab/tooltip/02/main.js\n\n  function imagePreview() {\n\n    $(\"a.preview\").hover(function(e){\n      this.t = this.title;\n      this.title = \"\";\n\n      var c = (this.t != \"\") ? \"<br/>\" + this.t : \"\";\n\n      $(this).append(\"<p id='preview'><img src='\"+ $(this).attr('data-src') +\"' alt='Image preview' />\"+ c +\"</p>\");\n\n      $(\"#preview\").addClass('preview-visible');\n    },\n    function(){\n      this.title = this.t;\n      $(\"#preview\").remove();\n    });\n  };\n\n  imagePreview();\n\n\n\n$('#dismiss-notification').click( function(){\n  $('.notification-bar').fadeOut(\"slow\", function(){\n\n  });\n});\n\n\n});\n/*jshint browser:true */\n/*!\n* FitVids 1.1\n*\n* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\n* Released under the WTFPL license - http://sam.zoy.org/wtfpl/\n*\n*/\n\n;(function( $ ){\n\n  'use strict';\n\n  $.fn.fitVids = function( options ) {\n    var settings = {\n      customSelector: null,\n      ignore: null\n    };\n\n    if(!document.getElementById('fit-vids-style')) {\n      // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\n      var head = document.head || document.getElementsByTagName('head')[0];\n      var css = '.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';\n      var div = document.createElement(\"div\");\n      div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + '</style>';\n      head.appendChild(div.childNodes[1]);\n    }\n\n    if ( options ) {\n      $.extend( settings, options );\n    }\n\n    return this.each(function(){\n      var selectors = [\n        'iframe[src*=\"player.vimeo.com\"]',\n        'iframe[src*=\"youtube.com\"]',\n        'iframe[src*=\"youtube-nocookie.com\"]',\n        'iframe[src*=\"kickstarter.com\"][src*=\"video.html\"]',\n        'object',\n        'embed'\n      ];\n\n      if (settings.customSelector) {\n        selectors.push(settings.customSelector);\n      }\n\n      var ignoreList = '.fitvidsignore';\n\n      if(settings.ignore) {\n        ignoreList = ignoreList + ', ' + settings.ignore;\n      }\n\n      var $allVideos = $(this).find(selectors.join(','));\n      $allVideos = $allVideos.not('object object'); // SwfObj conflict patch\n      $allVideos = $allVideos.not(ignoreList); // Disable FitVids on this video.\n\n      $allVideos.each(function(){\n        var $this = $(this);\n        if($this.parents(ignoreList).length > 0) {\n          return; // Disable FitVids on this video.\n        }\n        if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) { return; }\n        if ((!$this.css('height') && !$this.css('width')) && (isNaN($this.attr('height')) || isNaN($this.attr('width'))))\n        {\n          $this.attr('height', 9);\n          $this.attr('width', 16);\n        }\n        var height = ( this.tagName.toLowerCase() === 'object' || ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10))) ) ? parseInt($this.attr('height'), 10) : $this.height(),\n            width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),\n            aspectRatio = height / width;\n        if(!$this.attr('name')){\n          var videoName = 'fitvid' + $.fn.fitVids._count;\n          $this.attr('name', videoName);\n          $.fn.fitVids._count++;\n        }\n        $this.wrap('<div class=\"fluid-width-video-wrapper\"></div>').parent('.fluid-width-video-wrapper').css('padding-top', (aspectRatio * 100)+'%');\n        $this.removeAttr('height').removeAttr('width');\n      });\n    });\n  };\n\n  // Internal counter for unique video names.\n  $.fn.fitVids._count = 0;\n\n  // Wrap video (iframe) in parent div with .video-container class to activate fitVids.\n  $(\".video-container\").fitVids();\n\n})( window.jQuery );\n/**\n *\n * Header JS\n *\n */\n\n\njQuery(document).ready( function($) {\n\n  // Transation bar into slider\n  $('.translation-bar ul').flickity({\n    cellAlign: 'left',\n    contain: true,\n    pageDots: false,\n    prevNextButtons: false,\n    freeScroll: true\n  });\n\n  $('.arrow-wrap').on('click', function() {\n    $('.translation-bar ul').flickity('next');\n  });\n\n  $('.back-arrow-wrap').on('click', function() {\n    $('.translation-bar ul').flickity('prev');\n  });\n\n  function toggleNav() {\n    $('.nav-links').toggleClass('open');\n    $('.header-inner').toggleClass('nav-open');\n  }\n\n  function toggleSearch() {\n    $('.logo-nav-container').toggleClass('search-open');\n    $('.search-toggle').blur();\n    $('.search-bar-container input').focus();\n  }\n\n\n  $('.mobile-nav-toggle').on('click', function() {\n    toggleNav();\n\n    // If search is open, close it.\n    if ($('.search-open').length) {\n      $('.logo-nav-container').removeClass('search-open');\n    }\n  });\n\n\n  $('.search-toggle').on('click', function() {\n    toggleSearch();\n\n    // If mobile nav is open, close it.\n    if ($('.nav-open').length) {\n      $('.nav-links').removeClass('open');\n      $('.header-inner').removeClass('nav-open');\n    }\n  });\n\n\n  // On resize, remove any open nav classes if desktop size, otheriwise, blue overlay behind nav will still be there.\n  $(window).on('resize', function() {\n\n    if (window.matchMedia(\"(min-width: 1050px)\").matches) {\n      if ($('.nav-open').length) {\n        $('.nav-links').removeClass('open');\n        $('.header-inner').removeClass('nav-open');\n      }\n    }\n  });\n\n\n  // Hide search bar container if mouse is clicked outside of search div or search toggle and search div is open\n  $('html').on('click', function(e) {\n    if( !$(e.target).is('.search-toggle *, .search-toggle') ) {\n      if( !$(e.target).is('.search-bar-container *, .search-bar-container') ) {\n        if ($('.search-open').length) {\n          $('.logo-nav-container').removeClass('search-open');\n        }\n      }\n    }\n  });\n\n\n  // Move search bar container just below logo-nav-container for mobile\n  function searchBar() {\n    if (window.matchMedia(\"(max-width: 1049px)\").matches) {\n      $('.logo-nav-container').prepend($('.search-bar-container'));\n    } else {\n      $('.search-bar-container').insertAfter($('.search-toggle'));\n    }\n  }\n\n\n  // Logo swapping depending on screen size.\n  var logoStacked = $('.header-inner .logo-stacked'),\n    logoFull = $('.header-inner .logo-full');\n\n  function swapLogos() {\n    if (window.matchMedia(\"(max-width: 1049px)\").matches) {\n        $('.header-inner .logo-container a').prepend(logoFull);\n    } else {\n      $('.header-inner .logo-container a').prepend(logoStacked);\n    }\n  }\n\n  $(window).on('resize load', function() {\n    swapLogos();\n    searchBar();\n  });\n });\n$(document).ready(function() {\n\n  // Hover on an element, and add class to closest parent.\n  function hoverAddClass(container, parent, elem, className) {\n    $(container + ' ' + elem).hover(\n      function () {\n        $(this).closest(parent).addClass(className);\n      },\n      function () {\n        $(this).closest(parent).removeClass(className);\n      }\n    );\n  }\n\n  // News category list, give li item a bottom border turquoise.\n  hoverAddClass('.news-categories', 'li', 'a', 'border-turquoise');\n\n  // Related News, take down the opacity of the darkening gradient.\n  hoverAddClass('.related-news', '.bg-img', '.card-heading', 'headline-hover');\n\n  // Translation bar, add underline to li\n  hoverAddClass('.translation-bar', 'li', 'a', 'hover-underline');\n\n  // Darken news images when headline is hovered\n  hoverAddClass('.cta-news', '.card', '.h2 a', 'darken-img');\n  hoverAddClass('.card-list-container', '.card', '.h3 a', 'darken-img');\n\n});\n/**\n *\n * Main site JS\n *\n */\n$(document).ready(function() {\n\n  // Related News module.  Keep h3 headings the same height so the images stay the same height as well.\n  var headings = $('.related-news h3'),\n    headingHeights = [];\n\n  headings.each(function(index, value){\n    headingHeights.push(value.clientHeight);\n  });\n\n  var maxHeight = headingHeights.reduce(function(a, b) {\n    return Math.max(a, b);\n  }, 0);\n\n  headings.height(maxHeight);\n\n\n  // Blockquotes\n  // Since these blockquotes need to be display:inline for the quotation marks to function as designed, we can't add margin to it. This will wrap WordPress blockquotes in a container div to handle positioning and spacing.\n  $('article blockquote').wrap( \"<div class='blockquote-container'></div>\")\n\n  // Three up People module becomes slider on mobile.\n  $('.people.slider-on-mobile').flickity({\n    cellAlign: 'left',\n    contain: true,\n    pageDots: false,\n    prevNextButtons: false,\n    watchCSS: true\n  });\n\n  // Run a quick resize event on flickity - in case cards don't get spread properly spaces out cards.\n  setTimeout(function(){\n    $('.people.slider-on-mobile').flickity( 'resize' );\n  }, 500);\n\n\n  // Photo credits hover effect\n  // Based on:\n  // http://cssglobe.com/lab/tooltip/02/\n  // http://cssglobe.com/lab/tooltip/02/main.js\n\n  function imagePreview() {\n\n    $(\"a.preview\").hover(function(e){\n      this.t = this.title;\n      this.title = \"\";\n\n      var c = (this.t != \"\") ? \"<br/>\" + this.t : \"\";\n\n      $(this).append(\"<p id='preview'><img src='\"+ $(this).attr('data-src') +\"' alt='Image preview' />\"+ c +\"</p>\");\n\n      $(\"#preview\").addClass('preview-visible');\n    },\n    function(){\n      this.title = this.t;\n      $(\"#preview\").remove();\n    });\n  };\n\n  imagePreview();\n\n\n\n$('#dismiss-notification').click( function(){\n  $('.notification-bar').fadeOut(\"slow\", function(){\n\n  });\n});\n\n\n});\n/*jshint browser:true */\n/*!\n* FitVids 1.1\n*\n* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\n* Released under the WTFPL license - http://sam.zoy.org/wtfpl/\n*\n*/\n\n;(function( $ ){\n\n  'use strict';\n\n  $.fn.fitVids = function( options ) {\n    var settings = {\n      customSelector: null,\n      ignore: null\n    };\n\n    if(!document.getElementById('fit-vids-style')) {\n      // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\n      var head = document.head || document.getElementsByTagName('head')[0];\n      var css = '.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';\n      var div = document.createElement(\"div\");\n      div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + '</style>';\n      head.appendChild(div.childNodes[1]);\n    }\n\n    if ( options ) {\n      $.extend( settings, options );\n    }\n\n    return this.each(function(){\n      var selectors = [\n        'iframe[src*=\"player.vimeo.com\"]',\n        'iframe[src*=\"youtube.com\"]',\n        'iframe[src*=\"youtube-nocookie.com\"]',\n        'iframe[src*=\"kickstarter.com\"][src*=\"video.html\"]',\n        'object',\n        'embed'\n      ];\n\n      if (settings.customSelector) {\n        selectors.push(settings.customSelector);\n      }\n\n      var ignoreList = '.fitvidsignore';\n\n      if(settings.ignore) {\n        ignoreList = ignoreList + ', ' + settings.ignore;\n      }\n\n      var $allVideos = $(this).find(selectors.join(','));\n      $allVideos = $allVideos.not('object object'); // SwfObj conflict patch\n      $allVideos = $allVideos.not(ignoreList); // Disable FitVids on this video.\n\n      $allVideos.each(function(){\n        var $this = $(this);\n        if($this.parents(ignoreList).length > 0) {\n          return; // Disable FitVids on this video.\n        }\n        if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) { return; }\n        if ((!$this.css('height') && !$this.css('width')) && (isNaN($this.attr('height')) || isNaN($this.attr('width'))))\n        {\n          $this.attr('height', 9);\n          $this.attr('width', 16);\n        }\n        var height = ( this.tagName.toLowerCase() === 'object' || ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10))) ) ? parseInt($this.attr('height'), 10) : $this.height(),\n            width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),\n            aspectRatio = height / width;\n        if(!$this.attr('name')){\n          var videoName = 'fitvid' + $.fn.fitVids._count;\n          $this.attr('name', videoName);\n          $.fn.fitVids._count++;\n        }\n        $this.wrap('<div class=\"fluid-width-video-wrapper\"></div>').parent('.fluid-width-video-wrapper').css('padding-top', (aspectRatio * 100)+'%');\n        $this.removeAttr('height').removeAttr('width');\n      });\n    });\n  };\n\n  // Internal counter for unique video names.\n  $.fn.fitVids._count = 0;\n\n  // Wrap video (iframe) in parent div with .video-container class to activate fitVids.\n  $(\".video-container\").fitVids();\n\n})( window.jQuery );"]}