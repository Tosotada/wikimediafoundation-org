{"version":3,"sources":["scripts.min.js"],"names":["debounce","func","wait","immediate","timeout","context","this","args","arguments","callNow","clearTimeout","setTimeout","apply","$","doSearch","formData","data","updateUri","action","css","opacity","ajax","type","url","wmfoundation","ajax_url","success","result","resultData","posts_html","empty","append","pagination","error","urlData","window","location","baseurl","protocol","host","params","decodeURIComponent","param","history","pushState","on","e","preventDefault","selectedFilter","order","val","orderby","s","post_type","map","get","jQuery","document","ready","toggleNav","toggleClass","toggleSearch","blur","focus","searchBar","matchMedia","matches","prepend","insertAfter","swapLogos","logoFull","logoStacked","flickity","cellAlign","contain","pageDots","prevNextButtons","freeScroll","length","removeClass","target","is","hoverAddClass","container","parent","elem","className","hover","closest","addClass","headings","headingHeights","each","index","value","push","clientHeight","maxHeight","reduce","a","b","Math","max","height","wrap","watchCSS","t","title","c","attr","remove","click","fadeOut","hasClass","next","event","animate","scrollTop","offset","top","root","undefined","checkHeadingPosition","scrollPosition","i","heading","getPosition","resetHeadings","markActive","$link","Heading","$el","$toc","$links","find","Stickyfill","$heading","scroll","prototype","fn","fitVids","options","settings","customSelector","ignore","getElementById","head","getElementsByTagName","div","createElement","innerHTML","appendChild","childNodes","extend","selectors","ignoreList","$allVideos","join","not","$this","parents","tagName","toLowerCase","isNaN","aspectRatio","parseInt","width","videoName","_count","removeAttr"],"mappings":"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","file":"../scripts.min.js","sourcesContent":["/**\n * Generic site JavaScript.\n */\n\n(function($) {\n\n\t'use strict';\n\n\t$( '#searchFilter' ).on( 'submit', function(e) {\n\t\te.preventDefault();\n\n\t\tvar selectedFilter = $( '#sortSelect :selected' ),\n\t\t\torder = $( selectedFilter ).val(),\n\t\t\torderby = $( selectedFilter ).data( 'type' ),keyword = $( '#keyword' ).val(),\n\t\t\tdata = {\n\t\t\t\ts: keyword,\n\t\t\t\torder: order,\n\t\t\t\torderby: orderby,\n\t\t\t};\n\n\t\tdata.post_type = $( '#searchFilter input:checkbox:checked' ).map( function() {\n\t\t\treturn $(this).val();\n\t\t}).get() || [];\n\n\t\tdoSearch( data );\n\t})\n\n\tfunction doSearch( formData ) {\n\t\tvar data = formData || {};\n\n\t\tupdateUri( formData );\n\n\t\tdata.action = 'ajax_search';\n\n\t\t$( '#search-results' ).css( { opacity: 0.5 } );\n\n\t\t$.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: wmfoundation.ajax_url,\n\t\t\tdata: data,\n\t\t\tsuccess: function( result ) {\n\t\t\t\tvar resultData = result.data || {};\n\n\t\t\t\tif ( resultData.posts_html ) {\n\t\t\t\t\t$( '#search-results' ).empty().append( resultData.posts_html );\n\t\t\t\t}\n\n\t\t\t\tif ( resultData.pagination ) {\n\t\t\t\t\t$( '#pagination' ).empty().append( resultData.pagination );\n\t\t\t\t}\n\n\t\t\t\tif ( resultData.pagination === '' ) {\n\t\t\t\t\t$( '#pagination' ).empty();\n\t\t\t\t}\n\n\t\t\t\t$( '#search-results' ).css( { opacity: 1 } );\n\t\t\t},\n\n\t\t\terror: function() {\n\t\t\t\t$( '#search-results' ).empty();\n\t\t\t\t$( '#pagination' ).empty();\n\n\t\t\t\t$( '#search-results' ).css( { opacity: 1 } );\n\t\t\t}\n\t\t})\n\t}\n\n\tfunction updateUri( data ) {\n\t\tvar urlData = data || {},\n\t\t\turl = window.location,\n\t\t\tbaseurl = url.protocol + '//' + url.host + '/',\n\t\t\tparams = decodeURIComponent( $.param( urlData ) );\n\n\t\twindow.history.pushState( '', '', baseurl + '?' + params );\n\t}\n})(jQuery);\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function() {\n    var context = this, args = arguments;\n    var later = function() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n};\n\n\n/**\n *\n * Header JS\n *\n */\n\n\njQuery(document).ready(function($) {\n\n  // Transation bar into slider\n  $('.translation-bar ul').flickity({\n    cellAlign: 'left',\n    contain: true,\n    pageDots: false,\n    prevNextButtons: false,\n    freeScroll: true\n  });\n\n  $('.arrow-wrap').on('click', function() {\n    $('.translation-bar ul').flickity('next');\n  });\n\n  $('.back-arrow-wrap').on('click', function() {\n    $('.translation-bar ul').flickity('prev');\n  });\n\n  function toggleNav() {\n    $('.nav-links').toggleClass('open');\n    $('.header-inner').toggleClass('nav-open');\n  }\n\n  function toggleSearch() {\n    $('.logo-nav-container, .search-overlay').toggleClass('search-open');\n    $('.search-toggle').blur();\n    $('.search-bar-container input').focus();\n  }\n\n\n  $('.mobile-nav-toggle').on('click', function() {\n    toggleNav();\n\n    // If search is open, close it.\n    if ($('.search-open').length) {\n      $('.logo-nav-container').removeClass('search-open');\n    }\n  });\n\n\n  $('.search-toggle').on('click', function() {\n    toggleSearch();\n\n    // If mobile nav is open, close it.\n    if ($('.nav-open').length) {\n      $('.nav-links').removeClass('open');\n      $('.header-inner').removeClass('nav-open');\n    }\n  });\n\n\n  // On resize, remove any open nav classes if desktop size, otheriwise, blue overlay behind nav will still be there.\n  $(window).on('resize', function() {\n\n    if (window.matchMedia(\"(min-width: 1050px)\").matches) {\n      if ($('.nav-open').length) {\n        $('.nav-links').removeClass('open');\n        $('.header-inner').removeClass('nav-open');\n      }\n    }\n  });\n\n\n  // Hide search bar container if mouse is clicked outside of search div or search toggle and search div is open\n  $('html').on('click', function(e) {\n    if( !$(e.target).is('.search-toggle *, .search-toggle') ) {\n      if( !$(e.target).is('.search-bar-container *, .search-bar-container') ) {\n        if ($('.search-open').length) {\n          $('.logo-nav-container, .search-overlay').removeClass('search-open');\n        }\n      }\n    }\n  });\n\n\n  // Move search bar container just below logo-nav-container for mobile\n  function searchBar() {\n    if (window.matchMedia(\"(max-width: 1049px)\").matches) {\n      $('.logo-nav-container').prepend($('.search-bar-container'));\n    } else {\n      $('.search-bar-container').insertAfter($('.search-toggle'));\n    }\n  }\n\n\n  // Logo swapping depending on screen size.\n  var logoStacked = $('.header-inner .logo-stacked'),\n    logoFull = $('.header-inner .logo-full');\n\n  function swapLogos() {\n    if (window.matchMedia(\"(max-width: 1049px)\").matches) {\n        $('.header-inner .logo-container a').prepend(logoFull);\n    } else {\n      $('.header-inner .logo-container a').prepend(logoStacked);\n    }\n  }\n\n  $(window).on('resize load', function() {\n    swapLogos();\n    searchBar();\n  });\n });\njQuery(document).ready(function($) {\n\n  // Hover on an element, and add class to closest parent.\n  function hoverAddClass(container, parent, elem, className) {\n    $(container + ' ' + elem).hover(\n      function () {\n        $(this).closest(parent).addClass(className);\n      },\n      function () {\n        $(this).closest(parent).removeClass(className);\n      }\n    );\n  }\n\n  // News category list, give li item a bottom border turquoise.\n  hoverAddClass('.news-categories', 'li', 'a', 'border-turquoise');\n\n  // Related News, take down the opacity of the darkening gradient.\n  hoverAddClass('.related-news', '.bg-img', '.card-heading', 'headline-hover');\n\n  // Translation bar, add underline to li\n  hoverAddClass('.translation-bar', 'li', 'a', 'hover-underline');\n\n  // Darken news images when headline is hovered\n  hoverAddClass('.cta-news', '.card', '.h2 a', 'darken-img');\n  hoverAddClass('.card-list-container', '.card', '.h3 a', 'darken-img');\n\n});\n/**\n *\n * Main site JS\n *\n */\njQuery(document).ready(function($) {\n\n  // Related News module.  Keep h3 headings the same height so the images stay the same height as well.\n  var headings = $('.related-news h3'),\n    headingHeights = [];\n\n  headings.each(function(index, value){\n    headingHeights.push(value.clientHeight);\n  });\n\n  var maxHeight = headingHeights.reduce(function(a, b) {\n    return Math.max(a, b);\n  }, 0);\n\n  headings.height(maxHeight);\n\n\n  // Blockquotes\n  // Since these blockquotes need to be display:inline for the quotation marks to function as designed, we can't add margin to it. This will wrap WordPress blockquotes in a container div to handle positioning and spacing.\n  $('article blockquote').wrap( \"<div class='blockquote-container'></div>\")\n\n  // Three up People module becomes slider on mobile.\n  $('.people.slider-on-mobile').flickity({\n    cellAlign: 'left',\n    contain: true,\n    pageDots: false,\n    prevNextButtons: false,\n    watchCSS: true\n  });\n\n\n\n  // Run a quick resize event on flickity - in case cards don't get spread properly spaces out cards.\n  setTimeout(function(){\n    $('.people.slider-on-mobile').flickity( 'resize' );\n  }, 500);\n\n\n  $('.news-categories .slider-on-mobile').flickity({\n    cellAlign: 'left',\n    contain: true,\n    pageDots: false,\n    prevNextButtons: false,\n    watchCSS: true\n  });\n\n\n  // Photo credits hover effect\n  // Based on:\n  // http://cssglobe.com/lab/tooltip/02/\n  // http://cssglobe.com/lab/tooltip/02/main.js\n\n  function imagePreview() {\n\n    $(\"a.preview\").hover(function(e){\n      this.t = this.title;\n      this.title = \"\";\n\n      var c = (this.t != \"\") ? \"<br/>\" + this.t : \"\";\n\n      $(this).append(\"<p id='preview'><img src='\"+ $(this).attr('data-src') +\"' alt='Image preview' />\"+ c +\"</p>\");\n\n      $(\"#preview\").addClass('preview-visible');\n    },\n    function(){\n      this.title = this.t;\n      $(\"#preview\").remove();\n    });\n  };\n\n  imagePreview();\n\n\n\n  $('#dismiss-notification').click( function(){\n    $('.notification-bar').fadeOut(\"slow\", function(){\n    });\n  });\n\n  $('.static-list-heading').click( function(){\n    if ( $(this).hasClass( \"active\" ) ) {\n      $(this).removeClass('active');\n      $(this).next('.static-list-contents').removeClass('active');\n    } else {\n      $(this).addClass('active');\n      $(this).next('.static-list-contents').addClass('active');   \n    }\n\n  });\n\n  $('a.niceScroll').on('click', function(event){\n      event.preventDefault();\n    $('html, body').animate({\n        scrollTop: $( $.attr(this, 'href') ).offset().top\n    }, 2000);\n  });\n\n});\n\n(function($, root, undefined) {\n  $(function() {\n    var $toc, $links, headings;\n\n    $toc     = $('.toc');\n    $links   = $toc.find('.toc-link');\n    headings = [];\n\n    // Stick the table of contents in its container\n    $toc.Stickyfill();\n\n    // Get a heading for each top-level link in the table of contents\n    $links.each(function() {\n      var $link, $heading;\n\n      $link    = $(this);\n      $heading = $($link.attr('href'));\n\n      headings.push( new Heading($heading, $link) );\n    });\n\n    // On scroll, see which heading is closest and highlight it\n    $(window).scroll(function() {\n      debounce(checkHeadingPosition(headings), 500);\n    });\n\n    // And make sure that the position is checked on page load.\n    checkHeadingPosition(headings)\n  });\n\n  // Loop through headings and see which one is in view\n  function checkHeadingPosition(headings) {\n    var scrollPosition = $(window).scrollTop();\n\n    $.each(headings, function(i) {\n      var heading = headings[i];\n\n      if( scrollPosition > heading.getPosition() - 200 ) {\n        resetHeadings(headings);\n        heading.markActive();\n      }\n    })\n  }\n\n  // Return all headings to inactive state\n  function resetHeadings(headings) {\n    $.each(headings, function(i) {\n      var heading = headings[i];\n\n      heading.$link.removeClass('-active');\n    });\n  }\n\n  // Heading object\n  function Heading($el, $link) {\n    this.$el = $el;\n    this.$link = $link;\n  }\n\n  Heading.prototype.getPosition = function() {\n    return this.$el.offset().top;\n  }\n\n  Heading.prototype.markActive = function() {\n    this.$link.addClass('-active');\n  }\n})(jQuery, this);\n\n/*jshint browser:true */\n/*!\n* FitVids 1.1\n*\n* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\n* Released under the WTFPL license - http://sam.zoy.org/wtfpl/\n*\n*/\n\n;(function( $ ){\n\n  'use strict';\n\n  $.fn.fitVids = function( options ) {\n    var settings = {\n      customSelector: null,\n      ignore: null\n    };\n\n    if(!document.getElementById('fit-vids-style')) {\n      // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\n      var head = document.head || document.getElementsByTagName('head')[0];\n      var css = '.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';\n      var div = document.createElement(\"div\");\n      div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + '</style>';\n      head.appendChild(div.childNodes[1]);\n    }\n\n    if ( options ) {\n      $.extend( settings, options );\n    }\n\n    return this.each(function(){\n      var selectors = [\n        'iframe[src*=\"player.vimeo.com\"]',\n        'iframe[src*=\"youtube.com\"]',\n        'iframe[src*=\"youtube-nocookie.com\"]',\n        'iframe[src*=\"kickstarter.com\"][src*=\"video.html\"]',\n        'object',\n        'embed'\n      ];\n\n      if (settings.customSelector) {\n        selectors.push(settings.customSelector);\n      }\n\n      var ignoreList = '.fitvidsignore';\n\n      if(settings.ignore) {\n        ignoreList = ignoreList + ', ' + settings.ignore;\n      }\n\n      var $allVideos = $(this).find(selectors.join(','));\n      $allVideos = $allVideos.not('object object'); // SwfObj conflict patch\n      $allVideos = $allVideos.not(ignoreList); // Disable FitVids on this video.\n\n      $allVideos.each(function(){\n        var $this = $(this);\n        if($this.parents(ignoreList).length > 0) {\n          return; // Disable FitVids on this video.\n        }\n        if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) { return; }\n        if ((!$this.css('height') && !$this.css('width')) && (isNaN($this.attr('height')) || isNaN($this.attr('width'))))\n        {\n          $this.attr('height', 9);\n          $this.attr('width', 16);\n        }\n        var height = ( this.tagName.toLowerCase() === 'object' || ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10))) ) ? parseInt($this.attr('height'), 10) : $this.height(),\n            width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),\n            aspectRatio = height / width;\n        if(!$this.attr('name')){\n          var videoName = 'fitvid' + $.fn.fitVids._count;\n          $this.attr('name', videoName);\n          $.fn.fitVids._count++;\n        }\n        $this.wrap('<div class=\"fluid-width-video-wrapper\"></div>').parent('.fluid-width-video-wrapper').css('padding-top', (aspectRatio * 100)+'%');\n        $this.removeAttr('height').removeAttr('width');\n      });\n    });\n  };\n\n  // Internal counter for unique video names.\n  $.fn.fitVids._count = 0;\n\n  // Wrap video (iframe) in parent div with .video-container class to activate fitVids.\n  $(\".video-container\").fitVids();\n\n})( window.jQuery );"]}